{

  ForEach(.PlatformArchitecture in .BuildArchitectures)
  {
    ForEach(.Configuration in .BuildConfigurations)
    {
      Exec("$ProjectName$-$PlatformArchitecture$-$Configuration$")
      {
        .ExecExecutable = "build.bat"
        .ExecArguments = "-$Configuration$"
        .ExecOutput = "build/$ProjectName$.exe"
        .ExecUseStdOutAsOutput = true
      }
    }
  }

  VCXProject("$ProjectName$")
  {
    Using(.CommonDProject)
    Using(.ProjectBuildCommon)
    .ProjectOutput="workspace/$ProjectName$.vcxproj"
    .Output="..\build\$ProjectName$.exe"
    .OutputDirectory="build"
    .ProjectBasePath="."
  }
  ^Projects + "$ProjectName$"
}
